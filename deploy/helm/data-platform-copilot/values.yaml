api:
  image:
    repository: data-platform-copilot-api
    tag: v0.18.0
    pullPolicy: IfNotPresent
  env:
    COPILOT_AUTH_MODE: "header"
    COPILOT_AUTH_ENABLED: "true"
    COPILOT_TRUST_PROXY_HEADERS: "true"
    # AI gateway â€” override LLM_API_KEY via Kubernetes Secret in production
    AI_MODEL: "gpt-4o-mini"
    # Build approval workflow
    COPILOT_HIGH_RISK_APPROVAL_THRESHOLD: "0.70"
    COPILOT_APPROVAL_TTL_SECONDS: "3600"
    # Execution reconciliation
    COPILOT_EXEC_RECONCILE_STALE_SECONDS: "3600"
    COPILOT_EXEC_RECONCILE_INTERVAL_SECONDS: "60"
    # Budget guardrails
    COPILOT_MAX_COST_USD: "50.0"
    COPILOT_MONTHLY_BUDGET_WARN_RATIO: "0.80"

ui:
  image:
    repository: data-platform-copilot-ui
    tag: v0.18.0
    pullPolicy: IfNotPresent
  env:
    API_URL: "http://data-platform-copilot-api:8001"

ingress:
  enabled: true
  className: ""
  host: "copilot.local"
  tls: []

secrets:
  # Set create: true and provide llmApiKey to create a K8s Secret automatically.
  # For production, prefer external secret management (e.g. External Secrets Operator).
  create: false
  llmApiKey: ""
