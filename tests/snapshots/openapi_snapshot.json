{
  "components": {
    "schemas": {
      "AdvisorFindingModel": {
        "properties": {
          "code": {
            "title": "Code",
            "type": "string"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "level": {
            "title": "Level",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "plugin": {
            "title": "Plugin",
            "type": "string"
          }
        },
        "required": [
          "plugin",
          "level",
          "code",
          "message"
        ],
        "title": "AdvisorFindingModel",
        "type": "object"
      },
      "AdvisorsRunConfigModel": {
        "properties": {
          "disabled": {
            "items": {
              "type": "string"
            },
            "title": "Disabled",
            "type": "array"
          },
          "enabled": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Allowlist. If set, only these run.",
            "title": "Enabled"
          },
          "force": {
            "default": false,
            "title": "Force",
            "type": "boolean"
          },
          "options": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Options",
            "type": "object"
          }
        },
        "title": "AdvisorsRunConfigModel",
        "type": "object"
      },
      "AdvisorsRunRequest": {
        "properties": {
          "advisors": {
            "$ref": "#/components/schemas/AdvisorsRunConfigModel"
          },
          "context": {
            "additionalProperties": true,
            "title": "Context",
            "type": "object"
          }
        },
        "title": "AdvisorsRunRequest",
        "type": "object"
      },
      "AdvisorsRunResponse": {
        "properties": {
          "findings": {
            "items": {
              "$ref": "#/components/schemas/AdvisorFindingModel"
            },
            "title": "Findings",
            "type": "array"
          },
          "plugin_fingerprint": {
            "title": "Plugin Fingerprint",
            "type": "string"
          }
        },
        "required": [
          "plugin_fingerprint",
          "findings"
        ],
        "title": "AdvisorsRunResponse",
        "type": "object"
      },
      "BuildIntentRequest": {
        "properties": {
          "advisors": {
            "additionalProperties": true,
            "title": "Advisors",
            "type": "object"
          },
          "defaults": {
            "additionalProperties": true,
            "title": "Defaults",
            "type": "object"
          },
          "dry_run": {
            "default": false,
            "title": "Dry Run",
            "type": "boolean"
          },
          "explain": {
            "default": false,
            "title": "Explain",
            "type": "boolean"
          },
          "force": {
            "default": false,
            "title": "Force",
            "type": "boolean"
          },
          "job_name_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Name Hint"
          },
          "options": {
            "additionalProperties": true,
            "title": "Options",
            "type": "object"
          },
          "requirement": {
            "minLength": 3,
            "title": "Requirement",
            "type": "string"
          },
          "write_spec_yaml": {
            "default": true,
            "title": "Write Spec Yaml",
            "type": "boolean"
          }
        },
        "required": [
          "requirement"
        ],
        "title": "BuildIntentRequest",
        "type": "object"
      },
      "BuildV2Request": {
        "description": "Build V2: UI sends a full spec (no need for copilot_spec.yaml).",
        "properties": {
          "job_name_override": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Job Name Override"
          },
          "spec": {
            "$ref": "#/components/schemas/CopilotSpec"
          },
          "write_spec_yaml": {
            "default": true,
            "title": "Write Spec Yaml",
            "type": "boolean"
          }
        },
        "required": [
          "spec"
        ],
        "title": "BuildV2Request",
        "type": "object"
      },
      "CopilotSpec": {
        "properties": {
          "description": {
            "default": "Example Spark pipeline generated by Copilot",
            "title": "Description",
            "type": "string"
          },
          "dq_enabled": {
            "default": false,
            "title": "Dq Enabled",
            "type": "boolean"
          },
          "env": {
            "default": "dev",
            "title": "Env",
            "type": "string"
          },
          "job_name": {
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_\\-]+$",
            "title": "Job Name",
            "type": "string"
          },
          "language": {
            "default": "pyspark",
            "enum": [
              "pyspark",
              "scala"
            ],
            "title": "Language",
            "type": "string"
          },
          "owner": {
            "default": "data-platform",
            "title": "Owner",
            "type": "string"
          },
          "partition_column": {
            "default": "data_dt",
            "title": "Partition Column",
            "type": "string"
          },
          "preset": {
            "default": "generic",
            "enum": [
              "generic",
              "enterprise_a",
              "enterprise_b"
            ],
            "title": "Preset",
            "type": "string"
          },
          "schedule": {
            "default": "0 6 * * *",
            "title": "Schedule",
            "type": "string"
          },
          "source_table": {
            "default": "raw_db.source_table",
            "title": "Source Table",
            "type": "string"
          },
          "spark_conf_overrides": {
            "additionalProperties": {
              "type": "string"
            },
            "title": "Spark Conf Overrides",
            "type": "object"
          },
          "spark_dynamic_allocation": {
            "default": true,
            "title": "Spark Dynamic Allocation",
            "type": "boolean"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "target_table": {
            "default": "curated_db.target_table",
            "title": "Target Table",
            "type": "string"
          },
          "timezone": {
            "default": "UTC",
            "title": "Timezone",
            "type": "string"
          },
          "troubleshoot_enabled": {
            "default": false,
            "title": "Troubleshoot Enabled",
            "type": "boolean"
          },
          "write_mode": {
            "default": "merge",
            "enum": [
              "merge",
              "append",
              "overwrite"
            ],
            "title": "Write Mode",
            "type": "string"
          }
        },
        "required": [
          "job_name"
        ],
        "title": "CopilotSpec",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "SyncApplyRequest": {
        "properties": {
          "apply_safe_auto": {
            "default": true,
            "title": "Apply Safe Auto",
            "type": "boolean"
          },
          "job_name": {
            "title": "Job Name",
            "type": "string"
          },
          "plan_id": {
            "title": "Plan Id",
            "type": "string"
          }
        },
        "required": [
          "job_name",
          "plan_id"
        ],
        "title": "SyncApplyRequest",
        "type": "object"
      },
      "SyncPlanRequest": {
        "properties": {
          "job_name": {
            "title": "Job Name",
            "type": "string"
          },
          "max_diff_chars": {
            "default": 200000,
            "maximum": 500000.0,
            "minimum": 1000.0,
            "title": "Max Diff Chars",
            "type": "integer"
          },
          "paths": {
            "default": "jobs,dags,configs",
            "title": "Paths",
            "type": "string"
          }
        },
        "required": [
          "job_name"
        ],
        "title": "SyncPlanRequest",
        "type": "object"
      },
      "SyncRebaseSimulateRequest": {
        "properties": {
          "job_name": {
            "title": "Job Name",
            "type": "string"
          },
          "plan_id": {
            "title": "Plan Id",
            "type": "string"
          }
        },
        "required": [
          "job_name",
          "plan_id"
        ],
        "title": "SyncRebaseSimulateRequest",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "ctx": {
            "title": "Context",
            "type": "object"
          },
          "input": {
            "title": "Input"
          },
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      }
    }
  },
  "info": {
    "title": "Data Platform Copilot API",
    "version": "0.1.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/advisors/run": {
      "post": {
        "operationId": "run_advisors_advisors_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdvisorsRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvisorsRunResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Run Advisors"
      }
    },
    "/api/v1/advisors/run": {
      "post": {
        "operationId": "run_advisors_api_v1_advisors_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdvisorsRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvisorsRunResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Run Advisors"
      }
    },
    "/api/v1/build/": {
      "post": {
        "operationId": "build_pipeline_api_v1_build__post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v1/build/build/{job_name}/runtime": {
      "get": {
        "description": "Returns runtime metadata for the latest build of a job.",
        "operationId": "get_build_runtime_api_v1_build_build__job_name__runtime_get",
        "parameters": [
          {
            "in": "path",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Build Runtime",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v1/build/events": {
      "get": {
        "operationId": "get_events_api_v1_build_events_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 200,
              "maximum": 2000,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Events Api V1 Build Events Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Events",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v1/build/history": {
      "get": {
        "operationId": "build_history_api_v1_build_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build History",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v1/build/intent": {
      "post": {
        "operationId": "build_from_intent_api_v1_build_intent_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildIntentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build From Intent",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v1/build/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_api_v1_build_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Api V1 Build Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v1/build/plans": {
      "get": {
        "operationId": "get_plans_api_v1_build_plans_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plans Api V1 Build Plans Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plans",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v1/build/v2": {
      "post": {
        "operationId": "build_pipeline_v2_api_v1_build_v2_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildV2Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline V2",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v1/cache/stats": {
      "get": {
        "operationId": "cache_stats_api_v1_cache_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Stats"
      }
    },
    "/api/v1/execution/graph": {
      "get": {
        "operationId": "get_execution_graph_api_v1_execution_graph_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": true,
            "schema": {
              "title": "Intent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Execution Graph"
      }
    },
    "/api/v1/intelligence/analyze": {
      "get": {
        "operationId": "analyze_api_v1_intelligence_analyze_get",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Analyze"
      }
    },
    "/api/v1/intelligence/prioritize": {
      "post": {
        "operationId": "prioritize_advisors_api_v1_intelligence_prioritize_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "title": "Resolved Advisors",
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Prioritize Advisors"
      }
    },
    "/api/v1/plugins": {
      "get": {
        "operationId": "list_plugins_api_v1_plugins_get",
        "parameters": [
          {
            "in": "query",
            "name": "enabled_only",
            "required": false,
            "schema": {
              "default": false,
              "title": "Enabled Only",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Plugins"
      }
    },
    "/api/v1/plugins/resolve": {
      "get": {
        "operationId": "resolve_plugins_api_v1_plugins_resolve_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Intent"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resolve Plugins"
      }
    },
    "/api/v1/repo/diff": {
      "get": {
        "operationId": "repo_diff_api_v1_repo_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/refs": {
      "get": {
        "operationId": "repo_refs_api_v1_repo_refs_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "upstream_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Upstream Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Refs",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/status": {
      "get": {
        "operationId": "repo_status_api_v1_repo_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/upstream/connect": {
      "post": {
        "description": "Attach upstream remote + persist config (per workspace job).",
        "operationId": "upstream_connect_api_v1_repo_upstream_connect_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "repo_url",
            "required": true,
            "schema": {
              "title": "Repo Url",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "default": "main",
              "title": "Branch",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Connect",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/upstream/diff": {
      "get": {
        "description": "direction:\n  - upstream_to_workspace: git diff upstream_ref..HEAD\n  - workspace_to_upstream: git diff HEAD..upstream_ref\npaths:\n  - comma-separated scope prefixes, e.g. jobs,dags,configs\n  - .copilot is always excluded",
        "operationId": "upstream_diff_api_v1_repo_upstream_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include",
              "title": "Paths",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "direction",
            "required": false,
            "schema": {
              "default": "upstream_to_workspace",
              "title": "Direction",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "max_chars",
            "required": false,
            "schema": {
              "default": 20000,
              "maximum": 500000,
              "minimum": 1000,
              "title": "Max Chars",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/upstream/fetch": {
      "post": {
        "description": "Fetch upstream refs based on saved upstream.json.",
        "operationId": "upstream_fetch_api_v1_repo_upstream_fetch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Fetch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/upstream/status": {
      "get": {
        "description": "Show ahead/behind vs upstream branch + file drift summary.",
        "operationId": "upstream_status_api_v1_repo_upstream_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
              "title": "Paths",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/repo/upstream/switch": {
      "post": {
        "description": "Upstream switching modes:\n  - replace: update upstream remote/branch (baseline unchanged)\n  - rebaseline: replace + set baseline to current HEAD\n  - reset: replace + hard reset workspace to upstream ref + baseline = new HEAD (destructive)",
        "operationId": "upstream_switch_api_v1_repo_upstream_switch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "repo_url",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Repo Url"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Branch"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "remote",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Remote"
            }
          },
          {
            "description": "replace|rebaseline|reset",
            "in": "query",
            "name": "mode",
            "required": false,
            "schema": {
              "default": "replace",
              "description": "replace|rebaseline|reset",
              "title": "Mode",
              "type": "string"
            }
          },
          {
            "description": "Only used for reset mode to allow dirty repos",
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode to allow dirty repos",
              "title": "Force",
              "type": "boolean"
            }
          },
          {
            "description": "Only used for reset mode; runs git clean -fd after reset",
            "in": "query",
            "name": "clean_untracked",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode; runs git clean -fd after reset",
              "title": "Clean Untracked",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Switch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v1/sync/apply": {
      "post": {
        "operationId": "sync_apply_api_v1_sync_apply_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncApplyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Apply Api V1 Sync Apply Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Apply",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v1/sync/plan": {
      "post": {
        "operationId": "sync_plan_api_v1_sync_plan_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncPlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Plan Api V1 Sync Plan Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v1/sync/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_api_v1_sync_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Api V1 Sync Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v1/sync/rebase/simulate": {
      "post": {
        "operationId": "simulate_rebase_api_v1_sync_rebase_simulate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncRebaseSimulateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Simulate Rebase Api V1 Sync Rebase Simulate Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Simulate Rebase",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v2/advisors/run": {
      "post": {
        "operationId": "run_advisors_api_v2_advisors_run_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdvisorsRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdvisorsRunResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Run Advisors"
      }
    },
    "/api/v2/build/": {
      "post": {
        "operationId": "build_pipeline_api_v2_build__post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v2/build/build/{job_name}/runtime": {
      "get": {
        "description": "Returns runtime metadata for the latest build of a job.",
        "operationId": "get_build_runtime_api_v2_build_build__job_name__runtime_get",
        "parameters": [
          {
            "in": "path",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Build Runtime",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v2/build/events": {
      "get": {
        "operationId": "get_events_api_v2_build_events_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 200,
              "maximum": 2000,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Events Api V2 Build Events Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Events",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v2/build/history": {
      "get": {
        "operationId": "build_history_api_v2_build_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build History",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v2/build/intent": {
      "post": {
        "operationId": "build_from_intent_api_v2_build_intent_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildIntentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build From Intent",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v2/build/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_api_v2_build_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Api V2 Build Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v2/build/plans": {
      "get": {
        "operationId": "get_plans_api_v2_build_plans_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plans Api V2 Build Plans Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plans",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/api/v2/build/v2": {
      "post": {
        "operationId": "build_pipeline_v2_api_v2_build_v2_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildV2Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline V2",
        "tags": [
          "Build"
        ]
      }
    },
    "/api/v2/cache/stats": {
      "get": {
        "operationId": "cache_stats_api_v2_cache_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Stats"
      }
    },
    "/api/v2/execution/graph": {
      "get": {
        "operationId": "get_execution_graph_api_v2_execution_graph_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": true,
            "schema": {
              "title": "Intent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Execution Graph"
      }
    },
    "/api/v2/intelligence/analyze": {
      "get": {
        "operationId": "analyze_api_v2_intelligence_analyze_get",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Analyze"
      }
    },
    "/api/v2/intelligence/prioritize": {
      "post": {
        "operationId": "prioritize_advisors_api_v2_intelligence_prioritize_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "title": "Resolved Advisors",
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Prioritize Advisors"
      }
    },
    "/api/v2/plugins": {
      "get": {
        "operationId": "list_plugins_api_v2_plugins_get",
        "parameters": [
          {
            "in": "query",
            "name": "enabled_only",
            "required": false,
            "schema": {
              "default": false,
              "title": "Enabled Only",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Plugins"
      }
    },
    "/api/v2/plugins/resolve": {
      "get": {
        "operationId": "resolve_plugins_api_v2_plugins_resolve_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Intent"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resolve Plugins"
      }
    },
    "/api/v2/repo/diff": {
      "get": {
        "operationId": "repo_diff_api_v2_repo_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/refs": {
      "get": {
        "operationId": "repo_refs_api_v2_repo_refs_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "upstream_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Upstream Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Refs",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/status": {
      "get": {
        "operationId": "repo_status_api_v2_repo_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/upstream/connect": {
      "post": {
        "description": "Attach upstream remote + persist config (per workspace job).",
        "operationId": "upstream_connect_api_v2_repo_upstream_connect_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "repo_url",
            "required": true,
            "schema": {
              "title": "Repo Url",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "default": "main",
              "title": "Branch",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Connect",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/upstream/diff": {
      "get": {
        "description": "direction:\n  - upstream_to_workspace: git diff upstream_ref..HEAD\n  - workspace_to_upstream: git diff HEAD..upstream_ref\npaths:\n  - comma-separated scope prefixes, e.g. jobs,dags,configs\n  - .copilot is always excluded",
        "operationId": "upstream_diff_api_v2_repo_upstream_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include",
              "title": "Paths",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "direction",
            "required": false,
            "schema": {
              "default": "upstream_to_workspace",
              "title": "Direction",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "max_chars",
            "required": false,
            "schema": {
              "default": 20000,
              "maximum": 500000,
              "minimum": 1000,
              "title": "Max Chars",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/upstream/fetch": {
      "post": {
        "description": "Fetch upstream refs based on saved upstream.json.",
        "operationId": "upstream_fetch_api_v2_repo_upstream_fetch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Fetch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/upstream/status": {
      "get": {
        "description": "Show ahead/behind vs upstream branch + file drift summary.",
        "operationId": "upstream_status_api_v2_repo_upstream_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
              "title": "Paths",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/repo/upstream/switch": {
      "post": {
        "description": "Upstream switching modes:\n  - replace: update upstream remote/branch (baseline unchanged)\n  - rebaseline: replace + set baseline to current HEAD\n  - reset: replace + hard reset workspace to upstream ref + baseline = new HEAD (destructive)",
        "operationId": "upstream_switch_api_v2_repo_upstream_switch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "repo_url",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Repo Url"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Branch"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "remote",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Remote"
            }
          },
          {
            "description": "replace|rebaseline|reset",
            "in": "query",
            "name": "mode",
            "required": false,
            "schema": {
              "default": "replace",
              "description": "replace|rebaseline|reset",
              "title": "Mode",
              "type": "string"
            }
          },
          {
            "description": "Only used for reset mode to allow dirty repos",
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode to allow dirty repos",
              "title": "Force",
              "type": "boolean"
            }
          },
          {
            "description": "Only used for reset mode; runs git clean -fd after reset",
            "in": "query",
            "name": "clean_untracked",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode; runs git clean -fd after reset",
              "title": "Clean Untracked",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Switch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/api/v2/sync/apply": {
      "post": {
        "operationId": "sync_apply_api_v2_sync_apply_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncApplyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Apply Api V2 Sync Apply Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Apply",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v2/sync/plan": {
      "post": {
        "operationId": "sync_plan_api_v2_sync_plan_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncPlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Plan Api V2 Sync Plan Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v2/sync/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_api_v2_sync_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Api V2 Sync Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/api/v2/sync/rebase/simulate": {
      "post": {
        "operationId": "simulate_rebase_api_v2_sync_rebase_simulate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncRebaseSimulateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Simulate Rebase Api V2 Sync Rebase Simulate Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Simulate Rebase",
        "tags": [
          "Sync"
        ]
      }
    },
    "/build/": {
      "post": {
        "operationId": "build_pipeline_build__post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline",
        "tags": [
          "Build"
        ]
      }
    },
    "/build/build/{job_name}/runtime": {
      "get": {
        "description": "Returns runtime metadata for the latest build of a job.",
        "operationId": "get_build_runtime_build_build__job_name__runtime_get",
        "parameters": [
          {
            "in": "path",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Build Runtime",
        "tags": [
          "Build"
        ]
      }
    },
    "/build/events": {
      "get": {
        "operationId": "get_events_build_events_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 200,
              "maximum": 2000,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Events Build Events Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Events",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/build/history": {
      "get": {
        "operationId": "build_history_build_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build History",
        "tags": [
          "Build"
        ]
      }
    },
    "/build/intent": {
      "post": {
        "operationId": "build_from_intent_build_intent_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildIntentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build From Intent",
        "tags": [
          "Build"
        ]
      }
    },
    "/build/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_build_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Build Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/build/plans": {
      "get": {
        "operationId": "get_plans_build_plans_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "minLength": 1,
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plans Build Plans Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plans",
        "tags": [
          "Build (Plan APIs)"
        ]
      }
    },
    "/build/v2": {
      "post": {
        "operationId": "build_pipeline_v2_build_v2_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "include_intelligence",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Intelligence",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BuildV2Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Build Pipeline V2",
        "tags": [
          "Build"
        ]
      }
    },
    "/cache/stats": {
      "get": {
        "operationId": "cache_stats_cache_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Stats"
      }
    },
    "/execution/graph": {
      "get": {
        "operationId": "get_execution_graph_execution_graph_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": true,
            "schema": {
              "title": "Intent",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Execution Graph"
      }
    },
    "/health": {
      "get": {
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health Check"
      }
    },
    "/intelligence/analyze": {
      "get": {
        "operationId": "analyze_intelligence_analyze_get",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Analyze"
      }
    },
    "/intelligence/prioritize": {
      "post": {
        "operationId": "prioritize_advisors_intelligence_prioritize_post",
        "parameters": [
          {
            "in": "query",
            "name": "base_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Base Ref",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "title": "Resolved Advisors",
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Prioritize Advisors"
      }
    },
    "/plugins": {
      "get": {
        "operationId": "list_plugins_plugins_get",
        "parameters": [
          {
            "in": "query",
            "name": "enabled_only",
            "required": false,
            "schema": {
              "default": false,
              "title": "Enabled Only",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Plugins"
      }
    },
    "/plugins/resolve": {
      "get": {
        "operationId": "resolve_plugins_plugins_resolve_get",
        "parameters": [
          {
            "in": "query",
            "name": "intent",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Intent"
            }
          },
          {
            "in": "query",
            "name": "enabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Enabled"
            }
          },
          {
            "in": "query",
            "name": "disabled",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Disabled"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resolve Plugins"
      }
    },
    "/repo/diff": {
      "get": {
        "operationId": "repo_diff_repo_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/refs": {
      "get": {
        "operationId": "repo_refs_repo_refs_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "upstream_ref",
            "required": false,
            "schema": {
              "default": "upstream/main",
              "title": "Upstream Ref",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Refs",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/status": {
      "get": {
        "operationId": "repo_status_repo_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Repo Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/upstream/connect": {
      "post": {
        "description": "Attach upstream remote + persist config (per workspace job).",
        "operationId": "upstream_connect_repo_upstream_connect_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "repo_url",
            "required": true,
            "schema": {
              "title": "Repo Url",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "default": "main",
              "title": "Branch",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Connect",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/upstream/diff": {
      "get": {
        "description": "direction:\n  - upstream_to_workspace: git diff upstream_ref..HEAD\n  - workspace_to_upstream: git diff HEAD..upstream_ref\npaths:\n  - comma-separated scope prefixes, e.g. jobs,dags,configs\n  - .copilot is always excluded",
        "operationId": "upstream_diff_repo_upstream_diff_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include",
              "title": "Paths",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "direction",
            "required": false,
            "schema": {
              "default": "upstream_to_workspace",
              "title": "Direction",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "max_chars",
            "required": false,
            "schema": {
              "default": 20000,
              "maximum": 500000,
              "minimum": 1000,
              "title": "Max Chars",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Diff",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/upstream/fetch": {
      "post": {
        "description": "Fetch upstream refs based on saved upstream.json.",
        "operationId": "upstream_fetch_repo_upstream_fetch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Fetch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/upstream/status": {
      "get": {
        "description": "Show ahead/behind vs upstream branch + file drift summary.",
        "operationId": "upstream_status_repo_upstream_status_get",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
            "in": "query",
            "name": "paths",
            "required": false,
            "schema": {
              "default": "jobs,dags,configs",
              "description": "Comma-separated path prefixes to include (e.g., app,ui,copilot_spec.yaml)",
              "title": "Paths",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Status",
        "tags": [
          "Repo"
        ]
      }
    },
    "/repo/upstream/switch": {
      "post": {
        "description": "Upstream switching modes:\n  - replace: update upstream remote/branch (baseline unchanged)\n  - rebaseline: replace + set baseline to current HEAD\n  - reset: replace + hard reset workspace to upstream ref + baseline = new HEAD (destructive)",
        "operationId": "upstream_switch_repo_upstream_switch_post",
        "parameters": [
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "repo_url",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Repo Url"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "branch",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Branch"
            }
          },
          {
            "description": "Optional if .copilot/upstream.json already exists",
            "in": "query",
            "name": "remote",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional if .copilot/upstream.json already exists",
              "title": "Remote"
            }
          },
          {
            "description": "replace|rebaseline|reset",
            "in": "query",
            "name": "mode",
            "required": false,
            "schema": {
              "default": "replace",
              "description": "replace|rebaseline|reset",
              "title": "Mode",
              "type": "string"
            }
          },
          {
            "description": "Only used for reset mode to allow dirty repos",
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode to allow dirty repos",
              "title": "Force",
              "type": "boolean"
            }
          },
          {
            "description": "Only used for reset mode; runs git clean -fd after reset",
            "in": "query",
            "name": "clean_untracked",
            "required": false,
            "schema": {
              "default": false,
              "description": "Only used for reset mode; runs git clean -fd after reset",
              "title": "Clean Untracked",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upstream Switch",
        "tags": [
          "Repo"
        ]
      }
    },
    "/sync/apply": {
      "post": {
        "operationId": "sync_apply_sync_apply_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncApplyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Apply Sync Apply Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Apply",
        "tags": [
          "Sync"
        ]
      }
    },
    "/sync/plan": {
      "post": {
        "operationId": "sync_plan_sync_plan_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncPlanRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Plan Sync Plan Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Sync Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/sync/plan/{plan_id}": {
      "get": {
        "operationId": "get_plan_sync_plan__plan_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "plan_id",
            "required": true,
            "schema": {
              "title": "Plan Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "job_name",
            "required": true,
            "schema": {
              "title": "Job Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Plan Sync Plan  Plan Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Plan",
        "tags": [
          "Sync"
        ]
      }
    },
    "/sync/rebase/simulate": {
      "post": {
        "operationId": "simulate_rebase_sync_rebase_simulate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncRebaseSimulateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Simulate Rebase Sync Rebase Simulate Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Simulate Rebase",
        "tags": [
          "Sync"
        ]
      }
    }
  }
}